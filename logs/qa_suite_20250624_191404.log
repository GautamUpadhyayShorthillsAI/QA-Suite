2025-06-24 19:14:04 | INFO     | Frontend | info:76 | Starting QA-Suite Frontend | Context: {"streamlit_version": "1.24.0", "python_version": "3.12.3 (main, May 26 2025, 18:50:19) [GCC 13.3.0]"}
2025-06-24 19:14:04 | INFO     | Frontend | info:76 | JS file uploaded and processed | Context: {"filename": "digitree_full.js", "file_size": 4046, "content_length": 4046}
2025-06-24 19:14:04 | INFO     | Frontend | info:76 | Making API call to run script | Context: {"script_length": 4595}
2025-06-24 19:23:31 | ERROR    | Frontend | error:94 | Failed to run script | Context: {"status_code": 400, "response_text": "{\n  \"details\": \"No report generated.\",\n  \"error\": \"Test execution failed\",\n  \"healing_attempts\": [\n    {\n      \"attempt\": 2,\n      \"failing_command\": \"page.locator(\\\".Mui-focused > .MuiInput-input\\\").click()\",\n      \"fixed_command\": \"page.get_by_role('textbox', name='MG No:').click()\",\n      \"user_intent\": \"Click on <input> .Mui-focused > .MuiInput-input\"\n    },\n    {\n      \"attempt\": 3,\n      \"failing_command\": \"page.get_by_role('textbox', name='MG No:').click()\",\n      \"fixed_command\": \"page.locator(\\\"td:has-text('MG No:') + td input\\\").click()\",\n      \"user_intent\": \"Click on <input> .Mui-focused > .MuiInput-input\"\n    }\n  ],\n  \"stderr\": \"\",\n  \"stdout\": \"============================= test session starts ==============================\\nplatform linux -- Python 3.12.3, pytest-8.4.0, pluggy-1.6.0\\nrootdir: /tmp/tmp1fb7in7y\\nplugins: metadata-3.1.1, anyio-4.9.0, json-report-1.5.0\\ncollected 1 item\\n\\ntest_script.py ERROR in test_complete_end_to_end_workflow: Dumping DOM for analysis.\\nDOM content successfully dumped to /tmp/tmp1fb7in7y/dom_on_failure.html\\nF\\n\\n=================================== FAILURES ===================================\\n______________________ test_complete_end_to_end_workflow _______________________\\n\\npage = <Page url='https://digitreetest.shorthills.ai/dashboard/dashboard-preview-comparison'>\\n\\n    def test_complete_end_to_end_workflow(page):\\n    \\n        try:\\n         # Load \\\"https://digitreetest.shorthills.ai/auth/login\\\"\\n            page.goto(\\\"https://digitreetest.shorthills.ai/auth/login\\\")\\n    \\n            # Resize window to 1536 x 744\\n            page.set_viewport_size({\\\"width\\\": 1536, \\\"height\\\": 744})\\n    \\n            # Click on <input> .outlined-input-container > .ant-input\\n            page.locator(\\\".outlined-input-container > .ant-input\\\").click()\\n    \\n            # Fill \\\"ishan\\\" on <input> .outlined-input-container > .ant-input\\n            page.locator(\\\".outlined-input-container > .ant-input\\\").fill(\\\"ishan\\\")\\n    \\n            # Click on <input> .ant-input-affix-wrapper > .ant-input\\n            page.locator(\\\".ant-input-affix-wrapper > .ant-input\\\").click()\\n    \\n            # Fill \\\"Ishan@1234\\\" on <input> .ant-input-affix-wrapper > .ant-input\\n            page.locator(\\\".ant-input-affix-wrapper > .ant-input\\\").fill(\\\"Ishan@1234\\\")\\n    \\n            # Click on <button> \\\"Sign In\\\"\\n            with page.expect_navigation():\\n                page.locator(\\\".py-3\\\").click()\\n    \\n            # Click on <button> \\\"Edit Tree\\\"\\n            with page.expect_navigation():\\n                page.locator(\\\".border-primary\\\").click()\\n    \\n            # Click on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\"td:has-text('MG No:') + td input\\\").click()\\n    \\n            # Fill \\\"1234\\\" on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").fill(\\\"1234\\\")\\n    \\n            # Click on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").click()\\n    \\n            # Fill \\\"xyz\\\" on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").fill(\\\"xyz\\\")\\n    \\n            # Click on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").click()\\n    \\n            # Fill \\\"abc\\\" on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").fill(\\\"abc\\\")\\n    \\n            # Click on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").click()\\n    \\n            # Fill \\\"xyaz\\\" on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").fill(\\\"xyaz\\\")\\n    \\n            # Scroll wheel by X:759, Y:0\\n            page.mouse.wheel(759, 0)\\n    \\n            # Click on <button> tr:nth-child(1) [aria-label=\\\"Choose date\\\"]\\n            page.locator(\\\"tr:nth-child(1) [aria-label=\\\\\\\"Choose date\\\\\\\"]\\\").click()\\n    \\n            # Click on <button> \\\"24\\\"\\n            page.locator(\\\".MuiPickersDay-today\\\").click()\\n    \\n            # Click on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").click()\\n    \\n            # Fill \\\"asd\\\" on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").fill(\\\"asd\\\")\\n    \\n            # Click on <button> [aria-label=\\\"Choose date\\\"]\\n            page.locator(\\\"[aria-label=\\\\\\\"Choose date\\\\\\\"]\\\").click()\\n    \\n            # Click on <button> \\\"24\\\"\\n            page.locator(\\\".MuiPickersDay-today\\\").click()\\n    \\n            # Click on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").click()\\n    \\n            # Fill \\\"poi\\\" on <input> .Mui-focused > .MuiInput-input\\n            page.locator(\\\".Mui-focused > .MuiInput-input\\\").fill(\\\"poi\\\")\\n    \\n            # Click on <span> \\\"Yes\\\"\\n            page.get_by_text(\\\"Yes\\\").click()\\n    \\n            # Click on <button> \\\"Save\\\"\\n            page.locator(\\\".ant-btn-primary\\\").click()\\n    \\n            # Click on <button> \\\"OK\\\"\\n            page.locator(\\\".custom-alert-confirm\\\").click()\\n    \\n            # Click on <a> \\\"Home\\\"\\n            with page.expect_navigation():\\n                page.locator(\\\"[href=\\\\\\\"/dashboard/home\\\\\\\"]\\\").click()\\n    \\n            # Click on <button> \\\"View Tree\\\"\\n            page.locator(\\\".border-none\\\").click()\\n    \\n            # Click on <input> [placeholder=\\\"Enter image ID (e.g., 12) or multiple IDs (e.g., 12,13,14)\\\"]\\n            page.locator(\\\"[placeholder=\\\\\\\"Enter image ID (e.g., 12) or multiple IDs (e.g., 12,13,14)\\\\\\\"]\\\").click()\\n    \\n            # Fill \\\"8445\\\" on <input> [placeholder=\\\"Enter image ID (e.g., 12) or multiple IDs (e.g., 12,13,14)\\\"]\\n            page.locator(\\\"[placeholder=\\\\\\\"Enter image ID (e.g., 12) or multiple IDs (e.g., 12,13,14)\\\\\\\"]\\\").fill(\\\"8445\\\")\\n    \\n            # Click on <button> \\\"Search\\\"\\n            page.locator(\\\".rounded-l-none\\\").click()\\n    \\n            # Click on <svg> .anticon-down > svg\\n            page.locator(\\\".anticon-down > svg\\\").click()\\n    \\n            # Click on <li> \\\"Log Out\\\"\\n            page.locator(\\\".ant-dropdown-menu-item\\\").click()\\n    \\n            # Click on <button> \\\"Yes\\\"\\n            page.locator(\\\".custom-alert-confirm\\\").click()\\n        except Exception as e:\\n            print(f\\\"ERROR in test_complete_end_to_end_workflow: Dumping DOM for analysis.\\\")\\n            try:\\n                with open(r'/tmp/tmp1fb7in7y/dom_on_failure.html', 'w', encoding='utf-8') as f:\\n                    f.write(page.content())\\n                print(f\\\"DOM content successfully dumped to /tmp/tmp1fb7in7y/dom_on_failure.html\\\")\\n            except Exception as dump_error:\\n                print(f\\\"CRITICAL: Failed to dump DOM: {dump_error}\\\")\\n>           raise e\\n\\ntest_script.py:142: \\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \\ntest_script.py:78: in test_complete_end_to_end_workflow\\n    page.locator(\\\"tr:nth-child(1) [aria-label=\\\\\\\"Choose date\\\\\\\"]\\\").click()\\n/home/shtlp_0133/Desktop/Dev_Code_Test_suite/venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15512: in click\\n    self._sync(\\n/home/shtlp_0133/Desktop/Dev_Code_Test_suite/venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:160: in click\\n    return await self._frame.click(self._selector, strict=True, **params)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n/home/shtlp_0133/Desktop/Dev_Code_Test_suite/venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:488: in click\\n    await self._channel.send(\\\"click\\\", locals_to_params(locals()))\\n/home/shtlp_0133/Desktop/Dev_Code_Test_suite/venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:61: in send\\n    return await self._connection.wrap_api_call(\\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \\n\\nself = <playwright._impl._connection.Connection object at 0x716561f279e0>\\ncb = <function Channel.send.<locals>.<lambda> at 0x7165619d3920>\\nis_internal = False\\n\\n    async def wrap_api_call(\\n        self, cb: Callable[[], Any], is_internal: bool = False\\n    ) -> Any:\\n        if self._api_zone.get():\\n            return await cb()\\n        task = asyncio.current_task(self._loop)\\n        st: List[inspect.FrameInfo] = getattr(task, \\\"__pw_stack__\\\", inspect.stack())\\n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal)\\n        self._api_zone.set(parsed_st)\\n        try:\\n            return await cb()\\n        except Exception as error:\\n>           raise rewrite_error(error, f\\\"{parsed_st['apiName']}: {error}\\\") from None\\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 80000ms exceeded.\\nE           Call log:\\nE             - waiting for locator(\\\"tr:nth-child(1) [aria-label=\\\\\\\"Choose date\\\\\\\"]\\\")\\n\\n/home/shtlp_0133/Desktop/Dev_Code_Test_suite/venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:528: TimeoutError\\n=========================== short test summary info ============================\\nFAILED test_script.py::test_complete_end_to_end_workflow - playwright._impl._...\\n======================== 1 failed in 154.52s (0:02:34) =========================\\n\"\n}\n"}
2025-06-24 19:23:31 | ERROR    | Frontend | error:94 | Script execution returned error | Context: {"error": "Failed to run script", "has_logs": true}
2025-06-24 19:23:31 | INFO     | Frontend | info:76 | User completed all workflow steps | Context: {"final_step": 6, "total_steps": 7}
